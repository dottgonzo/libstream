"use strict";
module.exports = function (data) {
    var code;
    if (data.host) {
        data.port = parseInt(data.host.split(":")[0]);
        data.hostname = data.host.split(":")[1];
    }
    else if (data.hostname && data.port) {
        data.host = data.hostname + ":" + data.port;
    }
    else {
        throw Error("no host data");
    }
    if (!data.format)
        data.format = "desktop";
    switch (data.format) {
        case "mobile":
            if (!data.width || !data.height) {
                data.width = 862;
                data.height = 465;
                if (!data.img) {
                    data.img = 'https://lh6.ggpht.com/NrQdFAdPSI9-hreB4C7HNhj3yXRiW1jqOOi7eFyakIx_IA-Im0huIeYCs5jTidMT2qA=w300';
                }
            }
            code = '<div style="width:' + data.width + ';height:' + data.height + ';text-align:center;"><a href="http://' + data.host + '/hls/' + data.channel + '.m3u8"><img src="' + data.img + '"></a></div>';
            break;
        default:
            if (!data.width || !data.height) {
                data.width = 862;
                data.height = 465;
                code = '<object width="' + data.width + '" height="' + data.height + '"><param name="movie" value="http://fpdownload.adobe.com/strobe/FlashMediaPlayback.swf"></param><param name="flashvars" value="src=rtmp%3A%2F%2F' + data.hostname + '%2Flive%2F' + data.channel + '&scaleMode=zoom"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://fpdownload.adobe.com/strobe/FlashMediaPlayback.swf" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="' + data.width + '" height="' + data.height + '" flashvars="src=rtmp%3A%2F%2F' + data.hostname + '%2Flive%2F' + data.channel + '&scaleMode=zoom"></embed></object>';
            }
            break;
    }
    return code;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxpQkFBUyxVQUFVLElBU2xCO0lBRUcsSUFBSSxJQUFJLENBQUM7SUFFVCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNaLElBQUksQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUUzQyxDQUFDO0lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2hELENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNKLE1BQU0sS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFBQyxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztJQUUxQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUVsQixLQUFLLFFBQVE7WUFFVCxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFFOUIsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7Z0JBQ2pCLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO2dCQUNsQixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNaLElBQUksQ0FBQyxHQUFHLEdBQUcsZ0dBQWdHLENBQUM7Z0JBQ2hILENBQUM7WUFDTCxDQUFDO1lBR0QsSUFBSSxHQUFHLG9CQUFvQixHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsdUNBQXVDLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLGNBQWMsQ0FBQztZQUVyTSxLQUFLLENBQUM7UUFHVjtZQUVJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUU5QixJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztnQkFDakIsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7Z0JBRWxCLElBQUksR0FBRyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLGtKQUFrSixHQUFHLElBQUksQ0FBQyxRQUFRLEdBQUcsWUFBWSxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsMFNBQTBTLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxnQ0FBZ0MsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLFlBQVksR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLG9DQUFvQyxDQUFBO1lBR3h0QixDQUFDO1lBSUQsS0FBSyxDQUFDO0lBR2QsQ0FBQztJQUdELE1BQU0sQ0FBQyxJQUFJLENBQUM7QUFLaEIsQ0FBQyxDQUFBIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ID0gZnVuY3Rpb24gKGRhdGE6IHtcbiAgICBmb3JtYXQ/OiBzdHJpbmc7XG4gICAgd2lkdGg/OiBudW1iZXI7XG4gICAgaGVpZ2h0PzogbnVtYmVyO1xuICAgIGhvc3Q/OiBzdHJpbmc7XG4gICAgaG9zdG5hbWU/OiBzdHJpbmc7XG4gICAgcG9ydD86IG51bWJlcjtcbiAgICBjaGFubmVsOiBzdHJpbmc7XG4gICAgaW1nPzogc3RyaW5nO1xufSkge1xuXG4gICAgbGV0IGNvZGU7XG5cbiAgICBpZiAoZGF0YS5ob3N0KSB7XG4gICAgICAgIGRhdGEucG9ydCA9IHBhcnNlSW50KGRhdGEuaG9zdC5zcGxpdChcIjpcIilbMF0pO1xuICAgICAgICBkYXRhLmhvc3RuYW1lID0gZGF0YS5ob3N0LnNwbGl0KFwiOlwiKVsxXVxuXG4gICAgfSBlbHNlIGlmIChkYXRhLmhvc3RuYW1lICYmIGRhdGEucG9ydCkge1xuICAgICAgICBkYXRhLmhvc3QgPSBkYXRhLmhvc3RuYW1lICsgXCI6XCIgKyBkYXRhLnBvcnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJubyBob3N0IGRhdGFcIik7XG4gICAgfVxuICAgIFxuICAgIGlmICghZGF0YS5mb3JtYXQpIGRhdGEuZm9ybWF0ID0gXCJkZXNrdG9wXCI7XG5cbiAgICBzd2l0Y2ggKGRhdGEuZm9ybWF0KSB7XG5cbiAgICAgICAgY2FzZSBcIm1vYmlsZVwiOlxuXG4gICAgICAgICAgICBpZiAoIWRhdGEud2lkdGggfHwgIWRhdGEuaGVpZ2h0KSB7XG5cbiAgICAgICAgICAgICAgICBkYXRhLndpZHRoID0gODYyO1xuICAgICAgICAgICAgICAgIGRhdGEuaGVpZ2h0ID0gNDY1O1xuICAgICAgICAgICAgICAgIGlmICghZGF0YS5pbWcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pbWcgPSAnaHR0cHM6Ly9saDYuZ2dwaHQuY29tL05yUWRGQWRQU0k5LWhyZUI0QzdITmhqM3lYUmlXMWpxT09pN2VGeWFrSXhfSUEtSW0waHVJZVlDczVqVGlkTVQycUE9dzMwMCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGNvZGUgPSAnPGRpdiBzdHlsZT1cIndpZHRoOicgKyBkYXRhLndpZHRoICsgJztoZWlnaHQ6JyArIGRhdGEuaGVpZ2h0ICsgJzt0ZXh0LWFsaWduOmNlbnRlcjtcIj48YSBocmVmPVwiaHR0cDovLycgKyBkYXRhLmhvc3QgKyAnL2hscy8nICsgZGF0YS5jaGFubmVsICsgJy5tM3U4XCI+PGltZyBzcmM9XCInICsgZGF0YS5pbWcgKyAnXCI+PC9hPjwvZGl2Pic7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG5cbiAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgaWYgKCFkYXRhLndpZHRoIHx8ICFkYXRhLmhlaWdodCkge1xuXG4gICAgICAgICAgICAgICAgZGF0YS53aWR0aCA9IDg2MjtcbiAgICAgICAgICAgICAgICBkYXRhLmhlaWdodCA9IDQ2NTtcblxuICAgICAgICAgICAgICAgIGNvZGUgPSAnPG9iamVjdCB3aWR0aD1cIicgKyBkYXRhLndpZHRoICsgJ1wiIGhlaWdodD1cIicgKyBkYXRhLmhlaWdodCArICdcIj48cGFyYW0gbmFtZT1cIm1vdmllXCIgdmFsdWU9XCJodHRwOi8vZnBkb3dubG9hZC5hZG9iZS5jb20vc3Ryb2JlL0ZsYXNoTWVkaWFQbGF5YmFjay5zd2ZcIj48L3BhcmFtPjxwYXJhbSBuYW1lPVwiZmxhc2h2YXJzXCIgdmFsdWU9XCJzcmM9cnRtcCUzQSUyRiUyRicgKyBkYXRhLmhvc3RuYW1lICsgJyUyRmxpdmUlMkYnICsgZGF0YS5jaGFubmVsICsgJyZzY2FsZU1vZGU9em9vbVwiPjwvcGFyYW0+PHBhcmFtIG5hbWU9XCJhbGxvd0Z1bGxTY3JlZW5cIiB2YWx1ZT1cInRydWVcIj48L3BhcmFtPjxwYXJhbSBuYW1lPVwiYWxsb3dzY3JpcHRhY2Nlc3NcIiB2YWx1ZT1cImFsd2F5c1wiPjwvcGFyYW0+PGVtYmVkIHNyYz1cImh0dHA6Ly9mcGRvd25sb2FkLmFkb2JlLmNvbS9zdHJvYmUvRmxhc2hNZWRpYVBsYXliYWNrLnN3ZlwiIHR5cGU9XCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiIGFsbG93c2NyaXB0YWNjZXNzPVwiYWx3YXlzXCIgYWxsb3dmdWxsc2NyZWVuPVwidHJ1ZVwiIHdpZHRoPVwiJyArIGRhdGEud2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGRhdGEuaGVpZ2h0ICsgJ1wiIGZsYXNodmFycz1cInNyYz1ydG1wJTNBJTJGJTJGJyArIGRhdGEuaG9zdG5hbWUgKyAnJTJGbGl2ZSUyRicgKyBkYXRhLmNoYW5uZWwgKyAnJnNjYWxlTW9kZT16b29tXCI+PC9lbWJlZD48L29iamVjdD4nXG5cblxuICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgYnJlYWs7XG5cblxuICAgIH1cblxuXG4gICAgcmV0dXJuIGNvZGU7XG5cblxuXG5cbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
