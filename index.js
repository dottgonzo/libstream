"use strict";
module.exports = function codeStream(data) {
    if (!data) {
        throw Error("no data");
    }
    else if (!data.channel) {
        throw Error("no channel");
    }
    else {
        if (data.host) {
            data.port = parseInt(data.host.split(":")[0]);
            data.hostname = data.host.split(":")[1];
        }
        else if (data.hostname && data.port) {
            data.host = data.hostname + ":" + data.port;
        }
        else {
            throw Error("no host data");
        }
    }
    var code;
    if (!data.format)
        data.format = "desktop";
    switch (data.format) {
        case "mobile":
            if (!data.width || !data.height) {
                data.width = 862;
                data.height = 465;
                if (!data.img) {
                    data.img = 'https://lh6.ggpht.com/NrQdFAdPSI9-hreB4C7HNhj3yXRiW1jqOOi7eFyakIx_IA-Im0huIeYCs5jTidMT2qA=w300';
                }
            }
            code = '<div style="width:' + data.width + ';height:' + data.height + ';text-align:center;"><a href="http://' + data.host + '/hls/' + data.channel + '.m3u8"><img src="' + data.img + '"></a></div>';
            break;
        default:
            if (!data.width || !data.height) {
                data.width = 862;
                data.height = 465;
                code = '<object width="' + data.width + '" height="' + data.height + '"><param name="movie" value="http://fpdownload.adobe.com/strobe/FlashMediaPlayback.swf"></param><param name="flashvars" value="src=rtmp%3A%2F%2F' + data.hostname + '%2Flive%2F' + data.channel + '&scaleMode=zoom"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://fpdownload.adobe.com/strobe/FlashMediaPlayback.swf" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="' + data.width + '" height="' + data.height + '" flashvars="src=rtmp%3A%2F%2F' + data.hostname + '%2Flive%2F' + data.channel + '&scaleMode=zoom"></embed></object>';
            }
            break;
    }
    return code;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxpQkFBUyxvQkFBb0IsSUFTNUI7SUFFRyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDUixNQUFNLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDdkIsTUFBTSxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ0osRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDWixJQUFJLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUMsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNoRCxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixNQUFNLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNoQyxDQUFDO0lBQ0wsQ0FBQztJQUVELElBQUksSUFBSSxDQUFDO0lBRVQsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7SUFFMUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFFbEIsS0FBSyxRQUFRO1lBRVQsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBRTlCLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO2dCQUNqQixJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztnQkFDbEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDWixJQUFJLENBQUMsR0FBRyxHQUFHLGdHQUFnRyxDQUFDO2dCQUNoSCxDQUFDO1lBQ0wsQ0FBQztZQUdELElBQUksR0FBRyxvQkFBb0IsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLFVBQVUsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLHVDQUF1QyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxjQUFjLENBQUM7WUFFck0sS0FBSyxDQUFDO1FBR1Y7WUFFSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFFOUIsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7Z0JBQ2pCLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO2dCQUVsQixJQUFJLEdBQUcsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxrSkFBa0osR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLFlBQVksR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLDBTQUEwUyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsWUFBWSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsZ0NBQWdDLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxZQUFZLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxvQ0FBb0MsQ0FBQTtZQUd4dEIsQ0FBQztZQUlELEtBQUssQ0FBQztJQUdkLENBQUM7SUFHRCxNQUFNLENBQUMsSUFBSSxDQUFDO0FBS2hCLENBQUMsQ0FBQSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCA9IGZ1bmN0aW9uIGNvZGVTdHJlYW0oZGF0YToge1xuICAgIGZvcm1hdD86IHN0cmluZztcbiAgICB3aWR0aD86IG51bWJlcjtcbiAgICBoZWlnaHQ/OiBudW1iZXI7XG4gICAgaG9zdD86IHN0cmluZztcbiAgICBob3N0bmFtZT86IHN0cmluZztcbiAgICBwb3J0PzogbnVtYmVyO1xuICAgIGNoYW5uZWw6IHN0cmluZztcbiAgICBpbWc/OiBzdHJpbmc7XG59KSB7XG5cbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJubyBkYXRhXCIpO1xuICAgIH0gZWxzZSBpZiAoIWRhdGEuY2hhbm5lbCkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vIGNoYW5uZWxcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGRhdGEuaG9zdCkge1xuICAgICAgICAgICAgZGF0YS5wb3J0ID0gcGFyc2VJbnQoZGF0YS5ob3N0LnNwbGl0KFwiOlwiKVswXSk7XG4gICAgICAgICAgICBkYXRhLmhvc3RuYW1lID0gZGF0YS5ob3N0LnNwbGl0KFwiOlwiKVsxXTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmhvc3RuYW1lICYmIGRhdGEucG9ydCkge1xuICAgICAgICAgICAgZGF0YS5ob3N0ID0gZGF0YS5ob3N0bmFtZSArIFwiOlwiICsgZGF0YS5wb3J0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJubyBob3N0IGRhdGFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgY29kZTtcblxuICAgIGlmICghZGF0YS5mb3JtYXQpIGRhdGEuZm9ybWF0ID0gXCJkZXNrdG9wXCI7XG5cbiAgICBzd2l0Y2ggKGRhdGEuZm9ybWF0KSB7XG5cbiAgICAgICAgY2FzZSBcIm1vYmlsZVwiOlxuXG4gICAgICAgICAgICBpZiAoIWRhdGEud2lkdGggfHwgIWRhdGEuaGVpZ2h0KSB7XG5cbiAgICAgICAgICAgICAgICBkYXRhLndpZHRoID0gODYyO1xuICAgICAgICAgICAgICAgIGRhdGEuaGVpZ2h0ID0gNDY1O1xuICAgICAgICAgICAgICAgIGlmICghZGF0YS5pbWcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pbWcgPSAnaHR0cHM6Ly9saDYuZ2dwaHQuY29tL05yUWRGQWRQU0k5LWhyZUI0QzdITmhqM3lYUmlXMWpxT09pN2VGeWFrSXhfSUEtSW0waHVJZVlDczVqVGlkTVQycUE9dzMwMCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGNvZGUgPSAnPGRpdiBzdHlsZT1cIndpZHRoOicgKyBkYXRhLndpZHRoICsgJztoZWlnaHQ6JyArIGRhdGEuaGVpZ2h0ICsgJzt0ZXh0LWFsaWduOmNlbnRlcjtcIj48YSBocmVmPVwiaHR0cDovLycgKyBkYXRhLmhvc3QgKyAnL2hscy8nICsgZGF0YS5jaGFubmVsICsgJy5tM3U4XCI+PGltZyBzcmM9XCInICsgZGF0YS5pbWcgKyAnXCI+PC9hPjwvZGl2Pic7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG5cbiAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgaWYgKCFkYXRhLndpZHRoIHx8ICFkYXRhLmhlaWdodCkge1xuXG4gICAgICAgICAgICAgICAgZGF0YS53aWR0aCA9IDg2MjtcbiAgICAgICAgICAgICAgICBkYXRhLmhlaWdodCA9IDQ2NTtcblxuICAgICAgICAgICAgICAgIGNvZGUgPSAnPG9iamVjdCB3aWR0aD1cIicgKyBkYXRhLndpZHRoICsgJ1wiIGhlaWdodD1cIicgKyBkYXRhLmhlaWdodCArICdcIj48cGFyYW0gbmFtZT1cIm1vdmllXCIgdmFsdWU9XCJodHRwOi8vZnBkb3dubG9hZC5hZG9iZS5jb20vc3Ryb2JlL0ZsYXNoTWVkaWFQbGF5YmFjay5zd2ZcIj48L3BhcmFtPjxwYXJhbSBuYW1lPVwiZmxhc2h2YXJzXCIgdmFsdWU9XCJzcmM9cnRtcCUzQSUyRiUyRicgKyBkYXRhLmhvc3RuYW1lICsgJyUyRmxpdmUlMkYnICsgZGF0YS5jaGFubmVsICsgJyZzY2FsZU1vZGU9em9vbVwiPjwvcGFyYW0+PHBhcmFtIG5hbWU9XCJhbGxvd0Z1bGxTY3JlZW5cIiB2YWx1ZT1cInRydWVcIj48L3BhcmFtPjxwYXJhbSBuYW1lPVwiYWxsb3dzY3JpcHRhY2Nlc3NcIiB2YWx1ZT1cImFsd2F5c1wiPjwvcGFyYW0+PGVtYmVkIHNyYz1cImh0dHA6Ly9mcGRvd25sb2FkLmFkb2JlLmNvbS9zdHJvYmUvRmxhc2hNZWRpYVBsYXliYWNrLnN3ZlwiIHR5cGU9XCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiIGFsbG93c2NyaXB0YWNjZXNzPVwiYWx3YXlzXCIgYWxsb3dmdWxsc2NyZWVuPVwidHJ1ZVwiIHdpZHRoPVwiJyArIGRhdGEud2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGRhdGEuaGVpZ2h0ICsgJ1wiIGZsYXNodmFycz1cInNyYz1ydG1wJTNBJTJGJTJGJyArIGRhdGEuaG9zdG5hbWUgKyAnJTJGbGl2ZSUyRicgKyBkYXRhLmNoYW5uZWwgKyAnJnNjYWxlTW9kZT16b29tXCI+PC9lbWJlZD48L29iamVjdD4nXG5cblxuICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgYnJlYWs7XG5cblxuICAgIH1cblxuXG4gICAgcmV0dXJuIGNvZGU7XG5cblxuXG5cbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
